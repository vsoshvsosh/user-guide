# Часто задаваемые вопросы (FAQ)

## Невозможно получить доступ к панели администратора

Допустим, вы только что запустили Ruphish, пытаетесь зайти в панель администратора и видите следующую ошибку в журналах:

```text
2018/11/15 21:42:22 http: TLS handshake error from 127.0.0.1:51419: tls: first record does not look like a TLS handshake
```

Это означает, что вы перешли по адресу `http://admin_server` вместо `https://admin_server` (обратите внимание на использование HTTPS).

## Как обойти спам-фильтры

Не существует безотказного способа обойти спам-фильтры — **и это хорошо!**

Что может помочь улучшить доставляемость писем — это правильная настройка вашей почтовой инфраструктуры для поддержки современных протоколов аутентификации электронной почты, таких как SPF, DKIM и DMARC. Более подробную информацию об этом можно найти [здесь](https://www.trustedsec.com/blog/take-employees-phishing/).

Однако для тестов, цель которых — измерить, как пользователи реагируют на фишинговые симуляции, рекомендуется временно добавить IP-адрес сервера, на котором работает Ruphish, в белый список.

## События не отображаются на панели мониторинга

Если вы видите, что электронные письма успешно отправляются, но события не отображаются на панели мониторинга, вероятно, это означает, что где-то есть ошибка конфигурации. Вы можете следовать этим советам, чтобы помочь выявить проблему.

**Проверьте шаблон электронной почты**

Вы должны убедиться, что используете тег шаблона `{{.URL}}` при создании ссылок в ваших письмах. Затем, когда вы запускаете кампанию, Ruphish заполнит этот тег тем, что вы используете в поле "URL" при создании кампании.

Хороший способ проверить, работает ли это правильно — отправить тестовое письмо себе при создании кампании и посмотреть на ссылку. Она должна быть URL-адресом, который вы использовали при создании кампании, с уникальным параметром `rid`. Таким образом, она должна выглядеть примерно так: `http://your_url/?rid=XXXXX`.

{% hint style="info" %}
**Совет**: Не пытайтесь вставить URL-адрес Ruphish непосредственно в шаблон. Очень важно использовать тег шаблона `{{.URL}}`, поскольку именно так Ruphish знает, как генерировать уникальный URL-адрес для каждого получателя.
{% endhint %}

**Проверьте URL кампании**

Если ссылки в письме выглядят хорошо, а события всё равно не отображаются, следующим шагом будет убедиться, что URL, который вы используете при создании кампании, правильный.

При создании кампании поле URL **должно указывать на сервер, на котором работает Ruphish, и должно быть доступно для человека, открывающего электронные письма.** Это может быть внешний IP-адрес сервера или доменное имя, которое имеет запись DNS A, указывающую на IP-адрес сервера.

{% hint style="info" %}
**Совет:** Помните, что URL кампании должен быть доступен для получателей, которые нажимают на ссылки. Если они не могут получить доступ к серверу Ruphish, Ruphish не сможет записать эти события.
{% endhint %}

Чтобы проверить это, вы можете вручную перейти по URL-адресу, который вы собираетесь использовать в вашей кампании. Без предоставленных параметров `rid` вы должны увидеть базовую ошибку `404 page not found`. Вы также должны увидеть запись в журнале в терминале Ruphish.

{% hint style="info" %}
**Совет:** Помните, что если конфигурация `phish_server` в Ruphish настроена на использование HTTPS, вам нужно включить URL в вашу кампанию как `https://your_url`.
{% endhint %}

Как только ручной переход по вашему URL-адресу заработает, вы можете попробовать отправить себе тестовое письмо при создании кампании. Если это сработает, вы должны увидеть свою целевую страницу. Это означает, что URL, вероятно, будет работать при использовании в кампании, при условии, что он доступен для всех получателей.

## Отправленные данные формы не фиксируются

Чтобы фиксировать данные, отправленные через целевую страницу, вам нужно создать элемент HTML `<form>` на вашей целевой странице, который имеет несколько определенных свойств:

Вот минимальный пример элемента `<form>`, который фиксирует данные:

```markup
<form action="" method="POST">
    <input name="username" type="text" placeholder="username" />
    <input name="password" type="password" placeholder="password" />
    <input type="submit" value="Submit" />
</form>
```

Есть несколько моментов, которые стоит отметить в этой форме:

* Атрибут action установлен как `""`, чтобы отправка формы направлялась на вашу фишинговую страницу и, соответственно, на ваш сервер Ruphish
* Метод отправки формы — `POST` 
* Каждый input, который вы ожидаете увидеть в Ruphish, имеет атрибут `name`

Каждый из этих пунктов следует проверить при устранении неполадок с HTML-формами, которые, похоже, не отправляют данные корректно.

Если вы все еще не видите, что ваша форма отправляется правильно, возможно, вам потребуется проверить и удалить любой JavaScript на странице, который мешает отправке формы.

Наконец, убедитесь, что при сохранении целевой страницы у вас отмечены опции "Capture Submitted Data" (Фиксировать отправленные данные) и "Capture Passwords" (Фиксировать пароли) (если это необходимо). В противном случае Ruphish удалит атрибуты `name` из ваших input-элементов, так что они не будут отправлены вместе с формой.

